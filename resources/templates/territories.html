{% extends "base.html" %}
{% block content %}

<link rel="stylesheet" href="http://openlayers.org/en/v3.10.1/css/ol.css" type="text/css">
<style>
    .map {
        height: 400px;
        width: 600px;
    }
</style>
<script src="http://openlayers.org/en/v3.10.1/build/ol.js" type="text/javascript"></script>

<h2>Territories</h2>

{% for territory in territories %}
<h3>{{ territory.name }}: {{ territory.address }}</h3>

<div id="map-{{ territory.id }}" class="map"></div>
<script type="text/javascript">
    territoryBro.initTerritoryMap('map-{{ territory.id }}', '{{ territory.area }}');
</script>
{% endfor %}

<h2>Import</h2>

<form action="/territories" method="post" enctype="multipart/form-data">
    {% csrf-field %}
    <p>Territories GeoJSON: <input type="file" name="territories"></p>
    <button type="submit" class="btn btn-primary">Import</button>
</form>

{% endblock %}
